body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background: #f7fafc; color: #111827; display: flex; justify-content: center; padding: 1rem; }
#app { width: 900px; display: flex; gap: 1rem; align-items: flex-start; }
#camera { position: relative; width: 640px; margin-bottom: 1rem; flex: 0 0 640px; }
/* Video should be visible and behave like a replaced block element */
#video { display: block; width: 640px; height: 480px; background: #000; border-radius: 8px; object-fit: cover; z-index: 1; }
/* Canvas overlay must be transparent so it doesn't occlude the video. */
#overlay { position: absolute; left: 0; top: 0; pointer-events: none; width: 640px; height: 480px; border-radius: 8px; background: transparent; z-index: 2; }
#controls { display: flex; gap: 1rem; margin-bottom: 1rem; align-items: center; }
#status { background: #fff; padding: 1rem; border-radius: 8px; box-shadow: 0 0 0 1px rgba(0,0,0,0.04); width: 240px; flex: 0 0 240px; }
#status h2 { margin: 0 0 0.5rem 0; }
#status div { margin-bottom: 0.5rem; }

/* Audio / AU / Micro panels */
#audio, #aus, #micros, #contextual { margin-top: 0.5rem; }
#aus pre, #micros pre, #contextual pre { background: #f3f4f6; padding: 0.5rem; border-radius: 4px; max-height: 160px; overflow: auto; font-size: 12px; }

/* Make canvas align over video correctly in our flex layout */
#camera { position: relative; }
#overlay { position: absolute; left: 0; top: 0; pointer-events: none; width: 640px; height: 480px; border-radius: 8px; background: transparent; z-index: 2; }

/* Layer toggle styles */
#layerToggles { margin-left: 1rem; display: flex; gap: .5rem; flex-wrap: wrap; align-items: center; }
#layerToggles label { font-size: 13px; display: flex; gap: .25rem; align-items: center; }

/* AU bars and audio bar */
.bar { height: 10px; background: #e6e6e6; border-radius: 6px; overflow: hidden; }
.bar > .fill { height: 100%; background: #0ea5a4; width: 0%; }
.au-row { display: flex; gap: .5rem; align-items: center; margin-bottom: .35rem; }
.au-label { width: 40px; font-size: 12px; }

/* Micro-expression timeline simple list */
#microTimeline { max-height: 120px; overflow: auto; background: #fff; border: 1px solid #eee; padding: .5rem; border-radius: 6px; font-size: 12px; }

/* Audio intensity visual */
#audioViz { margin-top: .25rem; }
#audioViz .audioBar { height: 12px; background: #e6e6e6; border-radius: 6px; overflow: hidden; }
#audioViz .audioFill { height: 100%; background: #ef4444; width: 0%; }
